{% extends 'employee_management_system/base.html' %}

{% block content %}
<style>
    body {
        background-color: #f4f6f8;
        overflow-x: hidden;
    }

    .sidebar {
        animation: slideInLeft 0.5s ease forwards;
    }

    .main-content {
        animation: fadeInUp 0.6s ease forwards;
        opacity: 0;
    }

    .header {
        background: #007bff;
        color: white;
        padding: 15px;
        text-align: center;
        font-size: 20px;
        font-weight: bold;
        border-radius: 6px;
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        margin-bottom: 20px;
    }

    table {
        background-color: white;
        border-radius: 8px;
        overflow: hidden;
    }

    tbody tr {
        opacity: 0;
        transform: translateY(20px);
        animation: rowFadeIn 0.5s ease forwards;
    }

    .btn {
        transition: transform 0.3s ease;
    }

    .btn:hover {
        transform: scale(1.05);
    }

    @keyframes slideInLeft {
        from {
            transform: translateX(-100%);
            opacity: 0;
        }
        to {
            transform: translateX(0);
            opacity: 1;
        }
    }

    @keyframes fadeInUp {
        from {
            transform: translateY(20px);
            opacity: 0;
        }
        to {
            transform: translateY(0);
            opacity: 1;
        }
    }

    @keyframes rowFadeIn {
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
</style>

<div class="main-content container mt-4">
    <div class="header">Departments</div>
    <button class="btn btn-success mb-3" onclick="location.href='/departments/create/'">Add Department</button>
    <div class="table-responsive shadow-sm rounded">
        <table class="table table-striped table-bordered">
            <thead class="table-dark">
                <tr>
                    <th>ID</th>
                    <th>Name</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for department in departments %}
                <tr style="animation-delay: '{{ forloop.counter0|add:0.1|floatformat:1 }}s';">
                    <td>{{ department.id }}</td>
                    <td>{{ department.name }}</td>
                    <td>
                        <a href="/departments/{{ department.id }}/" class="btn btn-info btn-sm">View</a>
                        <a href="/departments/delete/{{ department.id }}/" class="btn btn-danger btn-sm">Delete</a>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="3" class="text-center text-muted">No departments found.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

<script>
    document.addEventListener("DOMContentLoaded", () => {
        document.querySelector('.main-content').style.opacity = '1';
    });
</script>
{% endblock %}
